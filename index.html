<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø³Ø£Ù„ Ø£Ø¨ÙˆÙ†Ø§ / Question au PÃ¨re | ECF</title>
    <!-- Chargement de Tailwind CSS pour un style moderne et responsive -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Noto Sans Arabic pour l'arabe Ùˆ Inter Ù„Ù„ÙØ±Ù†Ø³ÙŠ -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Noto+Sans+Arabic:wght@400;700;900&display=swap');
        body {
            font-family: 'Noto Sans Arabic', 'Inter', sans-serif;
            /* Ø®Ù„ÙÙŠØ© ÙƒØ±ÙŠÙ…ÙŠØ© / Off-white */
            background-color: #f7f7f0; 
            direction: rtl; /* DÃ©marre en Arabe */
            text-align: right;
        }
        .text-coptic-blue { color: #1e40af; }
        .bg-coptic-gold { background-color: #f59e0b; }
        .shadow-coptic { box-shadow: 0 10px 15px -3px rgba(30, 64, 175, 0.2), 0 4px 6px -2px rgba(30, 64, 175, 0.1); }
        .input-focus:focus {
            border-color: #f59e0b;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.4);
        }
        /* Style spÃ©cifique Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© */
        .ltr-layout {
            direction: ltr;
            text-align: left;
        }
        /* Animation pour le message de succÃ¨s */
        @keyframes scale-in {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .animate-scale-in {
            animation: scale-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'coptic-blue': '#1e40af',
                        'coptic-gold': '#f59e0b',
                    }
                }
            }
        }
    </script>
</head>
<body class="p-4 md:p-8 min-h-screen flex items-center justify-center transition-all duration-300" id="body-container">

    <!-- Script de gestion du bilingue -->
    <script>
        const texts = {
            // Navigation
            'lang-switch': { ar: 'FranÃ§ais', fr: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' },

            // Header
            'church-name': { 
                ar: 'ÙƒÙ†ÙŠØ³Ø© Ø§Ù„Ø³ÙŠØ¯Ø© Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ Ù„Ù„Ø£Ù‚Ø¨Ø§Ø· Ø§Ù„Ø£Ø±Ø«ÙˆØ°ÙƒØ³ (Ø¨Ø§Ø±ÙŠØ³ 20)', 
                fr: 'Ã‰glise Notre-Dame des Coptes (Paris 20e)' 
            },
            'service-name-header': {
                ar: 'ECF | Ø·Ù„Ø§Ø¨ Ø£Ù‚Ø¨Ø§Ø· ÙØ±Ù†Ø³Ø§',
                fr: 'ECF | Ã‰tudiants Coptes en France'
            },
            'main-title': { ar: 'ÙŠÙ„Ø§ Ù†Ø³Ø£Ù„ Ø£Ø¨ÙˆÙ†Ø§!', fr: 'Posez votre Question au PÃ¨re !' },
            'sub-title': { ar: 'Ù…Ø¹ Ù‚Ø¯Ø³ Ø£Ø¨ÙˆÙ†Ø§ ÙŠØ´ÙˆØ¹ Ø§Ù„Ø£Ù†Ø¨Ø§ Ø¨ÙŠØ´ÙˆÙŠ', fr: 'Avec le RÃ©v. PÃ¨re YÃ©shoua El Anba Bichoy' },
            'subject-title': { 
                ar: 'Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹: Ø±Ø¨Ù†Ø§ Ø¹Ø§ÙŠØ² Ø¥ÙŠÙ‡ Ù…Ù†ÙŠØŸ!', 
                fr: 'Sur le thÃ¨me : Qu\'est-ce que Dieu veut de moi ?!' 
            },
            // Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ø§Ù„Ø³Ø¨Øª 15 Ù†ÙˆÙÙ…Ø¨Ø±)
            'meeting-time-date': {
                ar: 'Ø§Ù„Ø³Ø¨ØªØŒ 15 Ù†ÙˆÙÙ…Ø¨Ø± 2025ØŒ Ø§Ù„Ø³Ø§Ø¹Ø© 12:00 (Ø§Ù„Ø¸Ù‡Ø±)',
                fr: 'Samedi, 15 Novembre 2025, 12h00 (Midi)'
            },
            'deadline-text': { 
                ar: 'Ø¢Ø®Ø± Ù…ÙŠØ¹Ø§Ø¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:', 
                fr: 'Date limite pour l\'envoi des questions :' 
            },
            'deadline-time': { ar: 'Ø§Ù„Ø¬Ù…Ø¹Ø©ØŒ Ø§Ù„Ø³Ø§Ø¹Ø© 7 Ù…Ø³Ø§Ø¡Ù‹', fr: 'Vendredi, 19h00' },

            // Form
            'name-label': { ar: 'Ø§Ù„Ø§Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)', fr: 'Votre Nom (Optionnel)' },
            'name-placeholder': { ar: 'Ù„Ùˆ Ø¹Ø§ÙŠØ² ØªÙƒØªØ¨ Ø§Ø³Ù…Ùƒ...', fr: 'Ã‰crivez votre nom si vous le souhaitez...' },
            'question-label': { ar: 'Ø³Ø¤Ø§Ù„Ùƒ Ø¹Ø´Ø§Ù† Ø£Ø¨ÙˆÙ†Ø§ ÙŠØ¬Ø§ÙˆØ¨ Ø¹Ù„ÙŠÙ‡', fr: 'Votre question pour le PÃ¨re' },
            'question-placeholder': { ar: 'Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ø¨ÙˆØ¶ÙˆØ­ Ù‡Ù†Ø§...', fr: 'Ã‰crivez votre question clairement ici...' },
            'submit-button': { ar: 'Ø§Ø¨Ø¹Øª Ø³Ø¤Ø§Ù„Ùƒ', fr: 'Envoyer ma Question' },
            
            // Messages
            'msg-empty': { ar: 'ÙŠØ§ Ø±ÙŠØª ØªÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ø§Ù„Ø£ÙˆÙ„.', fr: 'Veuillez Ã©crire votre question d\'abord.' },
            'msg-success-header': { ar: 'Merci gdn', fr: 'Merci gdn' }, // Ø¨Ø¯ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© ØªØ¹Ø¬Ø¨
            'msg-success-body': { ar: 'Ø³Ø¤Ø§Ù„Ùƒ Ø§ØªØ¨Ø¹Øª Ø®Ù„Ø§Øµ ğŸ˜‰', fr: 'C\'est envoyÃ©, merci ğŸ˜‰' }, // Ù…Ø¹ Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ
            'msg-success-footer-base': { ar: 'Ù…Ø³ØªÙ†ÙŠÙŠÙ†Ùƒ ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª', fr: 'On vous attend ce Samedi' }, // Ø§Ù„Ù†Øµ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…
            'msg-error': { ar: 'Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. ÙŠØ§ Ø±ÙŠØª ØªØ­Ø§ÙˆÙ„ ØªØ§Ù†ÙŠ.', fr: 'Un problÃ¨me est survenu lors de l\'envoi. Veuillez rÃ©essayer.' },

            // Footer
            'footer-church': { ar: 'ÙƒÙ†ÙŠØ³Ø© Ø§Ù„Ø³ÙŠØ¯Ø© Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ Ù„Ù„Ø£Ù‚Ø¨Ø§Ø· Ø§Ù„Ø£Ø±Ø«ÙˆØ°ÙƒØ³ (Ø¨Ø§Ø±ÙŠØ³ 20)', fr: 'Ã‰glise Notre-Dame des Coptes (Paris 20e)' },
            'footer-service': { ar: 'Ø§Ø¬ØªÙ…Ø§Ø¹ ECF | Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø£Ù‚Ø¨Ø§Ø· ÙÙŠ ÙØ±Ù†Ø³Ø§', fr: 'Rassemblement ECF | Ã‰tudiants Coptes en France' }
        };

        let currentLang = 'ar';
        let submittedName = ''; 

        function updateContent(lang) {
            currentLang = lang;
            const body = document.getElementById('body-container');
            
            // 1. GÃ©rer l'orientation RTL/LTR
            if (lang === 'ar') {
                body.classList.remove('ltr-layout');
                body.classList.add('rtl-layout');
                document.documentElement.lang = 'ar';
            } else {
                body.classList.remove('rtl-layout');
                body.classList.add('ltr-layout');
                document.documentElement.lang = 'fr';
            }

            // 2. Mettre Ã  jour Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†ØµÙŠØ©
            Object.keys(texts).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = texts[key][lang];
                    } else if (key === 'lang-switch') {
                         element.textContent = texts['lang-switch'][lang];
                    } else {
                        element.textContent = texts[key][lang];
                    }
                }
            });

            // 3. GÃ©rer ØªØ­Ø¯ÙŠØ« Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…ÙØ®ØµØµØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø±Ø¦ÙŠØ©
            const successSection = document.getElementById('success-section');
            if (!successSection.classList.contains('hidden')) {
                const successFooter = document.getElementById('msg-success-footer');
                let personalizedText;
                
                if (submittedName) {
                    if (lang === 'ar') {
                        personalizedText = `Ù…Ø³ØªÙ†ÙŠÙŠÙ†Ùƒ ÙŠØ§ ${submittedName} ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª`;
                    } else {
                        personalizedText = `On vous attend ${submittedName} ce Samedi`;
                    }
                } else {
                    personalizedText = texts['msg-success-footer-base'][lang];
                }
                successFooter.textContent = personalizedText;
            }
        }

        function toggleLanguage() {
            const newLang = currentLang === 'fr' ? 'ar' : 'fr';
            updateContent(newLang);
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateContent('ar'); // DÃ©marrage en Arabe (Masry)
            document.getElementById('lang-switch').addEventListener('click', toggleLanguage);
        });
    </script>
    
    <!-- Conteneur central -->
    <div class="container mx-auto p-6 md:p-10 bg-white rounded-xl shadow-coptic transition-all duration-300 max-w-xl">
        
        <!-- Bouton de basculement de langue -->
        <div class="flex justify-end mb-4">
            <button id="lang-switch" class="bg-coptic-gold text-white px-3 py-1 rounded-full text-sm font-semibold hover:bg-coptic-blue transition duration-300 shadow-md">FranÃ§ais</button>
        </div>

        <!-- Logo Ùˆ Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø© -->
        <div class="flex flex-col items-center mb-6">
            <img src="logo.png" alt="Ø´Ø¹Ø§Ø± Ø®Ø¯Ù…Ø© Ø§Ù„Ø´Ø¨Ø§Ø¨" class="w-24 h-24 object-contain rounded-full border-2 border-coptic-gold" onerror="this.nextElementSibling.classList.remove('hidden'); this.style.display='none';">
            <!-- Placeholder affichÃ© si logo.png est absent (cachÃ© par dÃ©faut) -->
            <div class="hidden w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center text-xs text-gray-500 font-semibold">
                LOGO
            </div>
            <!-- Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø© ØªØ­Øª Ø§Ù„Ù„ÙˆØ¬Ùˆ -->
            <p id="service-name-header" class="text-base font-semibold text-coptic-blue mt-2">
                ECF | Ø·Ù„Ø§Ø¨ Ø£Ù‚Ø¨Ø§Ø· ÙØ±Ù†Ø³Ø§
            </p>
        </div>

        <!-- En-tÃªte de l'Ã©vÃ©nement -->
        <header class="text-center mb-10">
            <h1 id="main-title" class="text-4xl md:text-5xl font-extrabold text-coptic-blue border-b-4 border-coptic-gold pb-2 mb-2">
                ÙŠÙ„Ø§ Ù†Ø³Ø£Ù„ Ø£Ø¨ÙˆÙ†Ø§!
            </h1>
            <p id="sub-title" class="text-lg md:text-xl font-medium text-gray-700 mt-4">
                Ù…Ø¹ Ù‚Ø¯Ø³ Ø£Ø¨ÙˆÙ†Ø§ ÙŠØ´ÙˆØ¹ Ø§Ù„Ø£Ù†Ø¨Ø§ Ø¨ÙŠØ´ÙˆÙŠ
            </p>
            <!-- Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ø´Ø¨Ø§Ø¨ÙŠ -->
            <p id="subject-title" class="text-xl font-bold text-gray-800 mt-2">
                Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹: Ø±Ø¨Ù†Ø§ Ø¹Ø§ÙŠØ² Ø¥ÙŠÙ‡ Ù…Ù†ÙŠØŸ!
            </p>
            <!-- Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
            <p class="text-2xl font-black text-coptic-gold mt-6 mb-4">
                <span id="meeting-time-date">Ø§Ù„Ø³Ø¨ØªØŒ 15 Ù†ÙˆÙÙ…Ø¨Ø± 2025ØŒ Ø§Ù„Ø³Ø§Ø¹Ø© 12:00 (Ø§Ù„Ø¸Ù‡Ø±)</span>
            </p>
            <!-- Ø¢Ø®Ø± Ù…ÙŠØ¹Ø§Ø¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
            <p class="text-lg font-bold text-red-500 bg-red-50 p-3 rounded-lg inline-block">
                <span id="deadline-text">Ø¢Ø®Ø± Ù…ÙŠØ¹Ø§Ø¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</span> 
                <span id="deadline-time" class="text-xl font-black">Ø§Ù„Ø¬Ù…Ø¹Ø©ØŒ Ø§Ù„Ø³Ø§Ø¹Ø© 7 Ù…Ø³Ø§Ø¡Ù‹</span>
            </p>
        </header>

        <!-- Formulaire de soumission (cachÃ© aprÃ¨s succÃ¨s) -->
        <section id="form-section" class="mt-8 transition-opacity duration-500">
            <!-- ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ù‡Ù†Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
            
            <form id="questionForm" class="space-y-6">
                
                <!-- Champ Nom (Ø§Ø®ØªÙŠØ§Ø±ÙŠ / Optionnel) -->
                <div>
                    <label for="name" id="name-label" class="block text-lg font-medium text-gray-700">
                        Ø§Ù„Ø§Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                    </label>
                    <input type="text" name="name" id="name-placeholder"
                           class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none input-focus transition duration-150">
                </div>

                <!-- Champ Question (Ù…Ø·Ù„ÙˆØ¨ / Requis) -->
                <div>
                    <label for="question" id="question-label" class="block text-lg font-medium text-gray-700">
                        Ø³Ø¤Ø§Ù„Ùƒ Ø¹Ø´Ø§Ù† Ø£Ø¨ÙˆÙ†Ø§ ÙŠØ¬Ø§ÙˆØ¨ Ø¹Ù„ÙŠÙ‡
                    </label>
                    <textarea id="question-placeholder" name="question" rows="5" required 
                              class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none input-focus transition duration-150"></textarea>
                </div>

                <!-- Bouton de soumission -->
                <button type="submit" id="submitButton"
                        class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-bold text-white bg-coptic-blue hover:bg-coptic-gold transition duration-300 transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-coptic-blue focus:ring-opacity-50">
                    <span id="submit-button">Ø§Ø¨Ø¹Øª Ø³Ø¤Ø§Ù„Ùƒ</span>
                    <svg id="loadingSpinner" class="animate-spin h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </button>

                <!-- Message d'erreur Ø¨Ø³ÙŠØ· -->
                <div id="messageBox" class="p-4 mt-4 rounded-lg text-center hidden font-semibold" role="alert"></div>

            </form>
        </section>
        
        <!-- Zone de succÃ¨s animÃ©e (cachÃ©e par dÃ©faut) -->
        <section id="success-section" class="hidden text-center py-10 animate-scale-in">
            <!-- Icone de succÃ¨s animÃ© -->
            <svg class="mx-auto w-24 h-24 text-coptic-gold animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            
            <h3 id="msg-success-header" class="text-4xl font-extrabold text-coptic-blue mt-6 mb-4">
                Merci gdn
            </h3>
            <p id="msg-success-body" class="text-lg text-gray-700 mb-6">
                Ø³Ø¤Ø§Ù„Ùƒ Ø§ØªØ¨Ø¹Øª Ø®Ù„Ø§Øµ ğŸ˜‰
            </p>
            <!-- Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù†Øµ Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ØªØ®ØµÙŠØµÙ‡ Ø¨Ø§Ù„Ø§Ø³Ù… -->
            <p id="msg-success-footer" class="text-3xl font-black text-coptic-gold">
                Ù…Ø³ØªÙ†ÙŠÙŠÙ†Ùƒ ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª
            </p>
            <button onclick="location.reload()" class="mt-8 bg-coptic-blue text-white px-6 py-2 rounded-lg font-semibold hover:bg-coptic-gold transition duration-300 shadow-md">
                Ø§Ø¨Ø¹Øª Ø³Ø¤Ø§Ù„ ØªØ§Ù†ÙŠ / Poser une autre question
            </button>
        </section>


        <!-- Pied de page (Footer) -->
        <footer class="text-center mt-12 pt-6 border-t border-gray-200">
            <p id="footer-service" class="text-lg font-bold text-coptic-blue mt-2">
                Ø§Ø¬ØªÙ…Ø§Ø¹ ECF | Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø£Ù‚Ø¨Ø§Ø· ÙÙŠ ÙØ±Ù†Ø³Ø§
            </p>
            <!-- Ø§Ø³Ù… Ø§Ù„ÙƒÙ†ÙŠØ³Ø© (Ø§Ù„Ù…ÙƒØ§Ù†) -->
            <p id="footer-church" class="text-sm text-gray-700 mt-1">
                ÙƒÙ†ÙŠØ³Ø© Ø§Ù„Ø³ÙŠØ¯Ø© Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ Ù„Ù„Ø£Ù‚Ø¨Ø§Ø· Ø§Ù„Ø£Ø±Ø«ÙˆØ°ÙƒØ³ (Ø¨Ø§Ø±ÙŠØ³ 20)
            </p>
        </footer>

    </div>

    <!-- Script de soumission vers Formspree -->
    <script>
        // **********************************************************
        // *** âš ï¸ Formspree Action URL ***
        // **********************************************************
        // Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…ÙØ¹Ø¯Ù‘ Ù„Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Formspree Ø¨Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (mblqllyd)
        const ACTION_URL = 'https://formspree.io/f/mblqllyd'; 
        const EMAIL_RECEIVER = 'eng.joseph.h.kamal@gmail.com'; 
        // **********************************************************

        const form = document.getElementById('questionForm');
        const formSection = document.getElementById('form-section');
        const successSection = document.getElementById('success-section');
        const submitButton = document.getElementById('submitButton');
        const messageBox = document.getElementById('messageBox');

        // Fonction d'affichage du message (pour les erreurs avant l'envoi)
        function displayMessage(text, isSuccess) {
            messageBox.classList.remove('hidden', 'bg-red-100', 'text-red-700', 'bg-green-100', 'text-green-700');
            messageBox.classList.add(isSuccess ? 'bg-green-100' : 'bg-red-100', isSuccess ? 'text-green-700' : 'text-red-700');
            messageBox.textContent = text;
        }

        // Fonction pour gÃ©rer le statut du bouton/spinner
        function setSubmitting(isSubmitting) {
            submitButton.disabled = isSubmitting;
            document.getElementById('loadingSpinner').classList.toggle('hidden', !isSubmitting);
            document.getElementById('submit-button').classList.toggle('hidden', isSubmitting);
            submitButton.classList.toggle('opacity-70', isSubmitting);
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            messageBox.classList.add('hidden');

            const nameInput = form.querySelector('input[name="name"]');
            const name = nameInput.value.trim();
            const question = form.querySelector('textarea[name="question"]').value;

            // Simple validation
            if (!question.trim()) {
                displayMessage(texts['msg-empty'][currentLang], false); 
                return;
            }

            // Construction des donnÃ©es Ù„Ù€ Formspree
            const formData = new FormData();
            
            // Formspree ÙŠØªØ·Ù„Ø¨ ØªØ³Ù…ÙŠØ© Ø§Ù„Ø­Ù‚ÙˆÙ„
            formData.append('Ø§Ù„Ø§Ø³Ù… (Name)', name || (currentLang === 'ar' ? 'Ù„Ù… ÙŠØ°ÙƒØ± Ø§Ø³Ù…Ù‡' : 'Anonymous'));
            formData.append('Ø§Ù„Ø³Ø¤Ø§Ù„ (Question)', question);
            
            setSubmitting(true);

            try {
                const response = await fetch(ACTION_URL, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json' 
                    }
                });
                
                if (response.ok) {
                    // 1. Ø§Ù„ØªØ®ØµÙŠØµ Ø¨Ø§Ù„Ø§Ø³Ù…
                    const successFooter = document.getElementById('msg-success-footer');
                    let personalizedFooterText;
                    
                    if (name) {
                        if (currentLang === 'ar') {
                            personalizedFooterText = `Ù…Ø³ØªÙ†ÙŠÙŠÙ†Ùƒ ÙŠØ§ ${name} ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª`;
                        } else {
                            personalizedFooterText = `On vous attend ${name} ce Samedi`;
                        }
                    } else {
                        personalizedFooterText = texts['msg-success-footer-base'][currentLang];
                    }
                    
                    submittedName = name; 
                    successFooter.textContent = personalizedFooterText;

                    // 2. Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙÙˆØ±Ù… ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
                    formSection.classList.add('hidden');
                    successSection.classList.remove('hidden');
                    form.reset(); 

                } else {
                    // ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Formspree
                    displayMessage(texts['msg-error'][currentLang], false);
                }

            } catch (error) {
                console.error('Submission error:', error);
                displayMessage(texts['msg-error'][currentLang], false);
            } finally {
                setSubmitting(false);
            }
        });
    </script>

</body>
</html>
